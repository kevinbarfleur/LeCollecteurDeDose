/* ===========================================
   FOIL EFFECTS - Trainer Gallery Only
   =========================================== */

/* ===========================================
   TRAINER GALLERY HOLO EFFECT
   Tier-colored stripes effect
   =========================================== */
[data-foil-effect="trainer-gallery"] .game-card__foil-overlay {
  --space: 5%;
  --angle: -22deg;
  
  /* Default colors (will be overridden by tier) */
  --tg-hue-1: 220;
  --tg-hue-2: 210;
  --tg-hue-3: 230;
  --tg-hue-4: 200;
  --tg-hue-5: 240;
  --tg-hue-6: 215;
  --tg-sat: 50%;
  --tg-light: 55%;
  --tg-glow-hue: 220;
  
  background-image: repeating-linear-gradient(
    var(--angle),
    hsla(var(--tg-hue-1), var(--tg-sat), var(--tg-light), 0.75) calc(var(--space) * 1),
    hsla(var(--tg-hue-2), calc(var(--tg-sat) + 10%), calc(var(--tg-light) + 5%), 0.75) calc(var(--space) * 2),
    hsla(var(--tg-hue-3), var(--tg-sat), var(--tg-light), 0.75) calc(var(--space) * 3),
    hsla(var(--tg-hue-4), calc(var(--tg-sat) - 5%), calc(var(--tg-light) + 8%), 0.75) calc(var(--space) * 4),
    hsla(var(--tg-hue-5), calc(var(--tg-sat) + 5%), calc(var(--tg-light) - 3%), 0.75) calc(var(--space) * 5),
    hsla(var(--tg-hue-6), var(--tg-sat), calc(var(--tg-light) + 3%), 0.75) calc(var(--space) * 6),
    hsla(var(--tg-hue-1), var(--tg-sat), var(--tg-light), 0.75) calc(var(--space) * 7)
  );

  background-blend-mode: color-dodge;
  background-size: 300% 400%;
  background-position: 0% calc(var(--pointer-y, 50) * 1%);

  filter: brightness(calc((var(--pointer-from-center, 0.5) * 0.3) + 0.5)) 
          contrast(2.3) 
          saturate(1);
  mix-blend-mode: color-dodge;
  opacity: 0.5;
}

[data-foil-effect="trainer-gallery"] .game-card__foil-overlay::after {
  background-image: radial-gradient(
    farthest-corner ellipse 
    at calc(((var(--pointer-x, 50)) * 0.5) + 25%) calc(((var(--pointer-y, 50)) * 0.5) + 25%),
    hsl(0, 0%, 100%) 5%,
    hsla(var(--tg-glow-hue), 80%, 15%, 0.6) 40%,
    hsl(0, 0%, 22%) 120%
  );
  background-position: center center;
  background-size: 400% 500%;
  filter: brightness(calc((var(--pointer-from-center, 0.5) * 0.2) + 0.4)) 
          contrast(0.85) 
          saturate(1.1);
  mix-blend-mode: hard-light;
}

/* T0 - LEGENDARY: Contrast effect - dark shadows + gold highlights */
.game-card--t0[data-foil-effect="trainer-gallery"] .game-card__foil-overlay {
  --tg-hue-1: 45;
  --tg-hue-2: 40;
  --tg-hue-3: 50;
  --tg-hue-4: 42;
  --tg-hue-5: 38;
  --tg-hue-6: 48;
  --tg-sat: 80%;
  --tg-light: 45%;
  --tg-glow-hue: 45;

  /* Base rays with moderate visibility */
  mix-blend-mode: overlay;
  background-blend-mode: overlay;
  opacity: 0.5;
}

/* T0 - Shadow layer for trainer-gallery with smooth transitions */
.game-card--t0[data-foil-effect="trainer-gallery"] .game-card__foil-overlay::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background-image:
    repeating-linear-gradient(
      -20deg,
      rgba(0, 0, 0, 0.05) 0%,
      rgba(0, 0, 0, 0.4) 3%,
      rgba(0, 0, 0, 0.7) 6%,
      rgba(0, 0, 0, 0.7) 8%,
      rgba(0, 0, 0, 0.4) 11%,
      rgba(0, 0, 0, 0.05) 14%,
      transparent 16%,
      transparent 20%,
      rgba(0, 0, 0, 0.05) 22%,
      rgba(0, 0, 0, 0.35) 25%,
      rgba(0, 0, 0, 0.6) 28%,
      rgba(0, 0, 0, 0.6) 30%,
      rgba(0, 0, 0, 0.35) 33%,
      rgba(0, 0, 0, 0.05) 36%,
      transparent 38%,
      transparent 42%
    );
  background-size: 250% 350%;
  background-position: 0% calc(var(--pointer-y, 50) * 1%);
  mix-blend-mode: multiply;
  opacity: 0.8;
  filter: blur(1px);
}

/* T0 - Gold highlight layer for trainer-gallery with smooth transitions */
.game-card--t0[data-foil-effect="trainer-gallery"] .game-card__foil-overlay::after {
  background-image:
    repeating-linear-gradient(
      -20deg,
      transparent 0%,
      hsla(42, 100%, 62%, 0.15) 3%,
      hsla(43, 100%, 68%, 0.5) 6%,
      hsla(44, 100%, 75%, 0.85) 9%,
      hsla(45, 100%, 78%, 0.95) 11%,
      hsla(44, 100%, 75%, 0.85) 13%,
      hsla(43, 100%, 68%, 0.5) 16%,
      hsla(42, 100%, 62%, 0.15) 19%,
      transparent 22%,
      transparent 28%,
      hsla(40, 100%, 60%, 0.12) 30%,
      hsla(42, 100%, 66%, 0.4) 33%,
      hsla(44, 100%, 72%, 0.7) 36%,
      hsla(45, 100%, 75%, 0.8) 38%,
      hsla(44, 100%, 72%, 0.7) 40%,
      hsla(42, 100%, 66%, 0.4) 43%,
      hsla(40, 100%, 60%, 0.12) 46%,
      transparent 49%,
      transparent 55%
    ),
    radial-gradient(
      ellipse 75% 95% at calc(var(--pointer-x, 50) * 1%) calc(var(--pointer-y, 50) * 1%),
      hsla(45, 100%, 85%, 0.7) 0%,
      hsla(44, 100%, 78%, 0.5) 15%,
      hsla(43, 100%, 70%, 0.3) 30%,
      hsla(42, 100%, 65%, 0.12) 45%,
      transparent 65%
    );
  background-size: 250% 350%, 100% 100%;
  background-position: 0% calc(var(--pointer-y, 50) * 1%), center;
  mix-blend-mode: color-dodge;
  filter: blur(0.5px) brightness(1.1) contrast(1.7);
  opacity: 0.65;
}

/* T1 - EPIC: Purple/Amethyst variations */
.game-card--t1[data-foil-effect="trainer-gallery"] .game-card__foil-overlay {
  --tg-hue-1: 278;  /* Purple */
  --tg-hue-2: 268;  /* Blue-purple */
  --tg-hue-3: 288;  /* Magenta-purple */
  --tg-hue-4: 260;  /* Indigo */
  --tg-hue-5: 295;  /* Pink-purple */
  --tg-hue-6: 273;  /* Violet */
  --tg-sat: 60%;
  --tg-light: 55%;
  --tg-glow-hue: 280;
}

/* T2 - RARE: Blue/Steel variations */
.game-card--t2[data-foil-effect="trainer-gallery"] .game-card__foil-overlay {
  --tg-hue-1: 210;  /* Blue */
  --tg-hue-2: 200;  /* Cyan-blue */
  --tg-hue-3: 220;  /* Deep blue */
  --tg-hue-4: 195;  /* Teal-blue */
  --tg-hue-5: 225;  /* Indigo-blue */
  --tg-hue-6: 205;  /* Steel blue */
  --tg-sat: 50%;
  --tg-light: 52%;
  --tg-glow-hue: 210;
}

/* T3 - COMMON: Silver/Grey variations */
.game-card--t3[data-foil-effect="trainer-gallery"] .game-card__foil-overlay {
  --tg-hue-1: 220;  /* Cool grey */
  --tg-hue-2: 210;  /* Blue-grey */
  --tg-hue-3: 230;  /* Purple-grey */
  --tg-hue-4: 200;  /* Cyan-grey */
  --tg-hue-5: 225;  /* Slate */
  --tg-hue-6: 215;  /* Steel grey */
  --tg-sat: 15%;
  --tg-light: 55%;
  --tg-glow-hue: 220;
}
